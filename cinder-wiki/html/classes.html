<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classes - CinderRPG Wiki</title>
    <link rel="icon" type="x-icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/home.css">
    <link rel="stylesheet" href="../css/classes.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <!-- RPG Awesome icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/rpg-awesome/css/rpg-awesome.min.css">
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/473c5494b9.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Header Component Slot -->
    <div id="header-slot"></div>

    <main>
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="wrap">
                <div class="hero-content">
                    <h1 class="page-title">Classes & Subclasses</h1>
                    <p class="page-subtitle">Choose your path and master your destiny. Each class offers unique abilities and four specialized subclasses to define your playstyle.</p>
                </div>
            </div>
        </section>

        <!-- Classes Section -->
        <section class="classes-section">
            <div class="wrap">
                <div class="classes-grid" id="classesContainer">
                    <!-- Classes are dynamically generated by JavaScript -->

                </div>
            </div>
        </section>
    </main>

    <!-- Footer Component Slot -->
    <div id="footer-slot"></div>

    <!-- Modal Component Slot -->
    <div id="modal-slot"></div>

    <!-- Load Component Manager -->
    <script src="../js/components.js"></script>

    <!-- Classes Page Scripts -->
    <script>
        // Classes data
        const classesData = [
            {
                name: 'Warrior',
                icon: 'ra ra-helmet',
                subclasses: [
                    {
                        name: 'Knight',
                        icon: 'ra ra-shield',
                        benefits: [
                            'Unlocks the ability to use higher tier swords & axes each two levels',
                            'Flat 2 damage increase with Knight weapons per investment'
                        ]
                    },
                    {
                        name: 'Samurai',
                        icon: 'ra ra-broadsword',
                        benefits: [
                            'Unlocks the ability to use higher tier katanas & quarterstaffs each two levels',
                            'Flat 2 damage increase with Samurai weapons per investment'
                        ]
                    },
                    {
                        name: 'Spearsaint',
                        icon: 'ra ra-trident',
                        benefits: [
                            'Unlocks the ability to use higher tier spears & glaives each two levels',
                            'Flat 2 damage increase with Spearsaint weapons per investment'
                        ]
                    },
                    {
                        name: 'Berserker',
                        icon: 'ra ra-axe',
                        benefits: [
                            'Unlocks the ability to use higher tier giant swords & hammers each two levels',
                            'Flat 2 damage increase with Berserker weapons per investment'
                        ]
                    }
                ]
            },
            {
                name: 'Sorcerer',
                icon: 'ra ra-book',
                subclasses: [
                    {
                        name: 'Destruction',
                        icon: 'ra ra-fire',
                        benefits: [
                            'Unlocks use of higher tier destruction spells per two levels',
                            'Reduced Destruction spell cost by 1 per investment',
                            'Flat 2 damage increase with Destruction spells per investment'
                        ]
                    },
                    {
                        name: 'Restoration',
                        icon: 'ra ra-health',
                        benefits: [
                            'Unlocks use of higher tier restoration spells per two levels',
                            'Reduced Restoration spell cost by 1 per investment',
                            'Flat 1% chance increase per investment to skip mana cost'
                        ]
                    },
                    {
                        name: 'Conjuration',
                        icon: 'ra ra-crystal-ball',
                        benefits: [
                            'Unlocks use of higher tier conjuration spells per two levels',
                            'Reduced Conjuration spell cost by 1 per investment',
                            'Flat 2% chance increase per investment to summon double'
                        ]
                    },
                    {
                        name: 'Abjuration',
                        icon: 'ra ra-shield',
                        benefits: [
                            'Unlocks use of higher tier abjuration spells per two levels',
                            'Reduced Restoration spell cost by 1 per investment',
                            'Flat 1% chance increase per investment to skip mana cost'
                        ]
                    }
                ]
            },
            {
                name: 'Rogue',
                icon: 'ra ra-hood',
                subclasses: [
                    {
                        name: 'Thief',
                        icon: 'ra ra-player',
                        benefits: [
                            'Unlocks the ability to pick higher tiers of locked chests',
                            'Increased chance of lockpick success per level',
                            'Flat 5% chance decrease per investment to be detected stealing'
                        ]
                    },
                    {
                        name: 'Assassin',
                        icon: 'ra ra-daggers',
                        benefits: [
                            'Unlocks use of higher tier assassin weapons per two levels',
                            'Flat 0.5 damage increase with Assassin weapons per investment'
                        ]
                    },
                    {
                        name: 'Acrobat',
                        icon: 'ra ra-double-team',
                        benefits: [
                            'Unlocks the ability to use weapon skills with rogue weapons',
                            'Decrease weapon skill cooldown by 0.5 seconds per level',
                            'Flat 0.5% chance increase per investment to take reduced damage'
                        ]
                    },
                    {
                        name: 'Swashbuckler',
                        icon: 'ra ra-lightning-sword',
                        benefits: [
                            'Unlocks use of higher tier Swashbuckler weapons per two levels',
                            'Flat 2 damage increase with Swashbuckler weapons per investment'
                        ]
                    }
                ]
            },
            {
                name: 'Ranger',
                icon: 'fa-solid fa-bullseye',
                subclasses: [
                    {
                        name: 'Archer',
                        icon: 'ph ph-crosshair',
                        benefits: [
                            'Unlocks the ability to use higher tier bows per two levels',
                            'Flat 2 damage increase with Archer weapons per investment'
                        ]
                    },
                    {
                        name: 'Ballista',
                        icon: 'ra ra-crossbow',
                        benefits: [
                            'Unlocks use of higher tier crossbows and guns per two levels',
                            'Flat 2 damage increase with Ballista weapons per investment'
                        ]
                    },
                    {
                        name: 'Treasure Hunter',
                        icon: 'ra ra-gold-bar',
                        benefits: [
                            'Increased treasure drop chance from sacks and chests per level investment',
                            'Increased chance of killed creatures dropping silver rings per investment'
                        ]
                    },
                    {
                        name: 'Bard',
                        icon: 'ra ra-horn-call',
                        benefits: [
                            'Unlocks use of higher tier Bard instruments per two levels',
                            'Increased odds of successful performance and increased odds of a perfect performance per investment'
                        ]
                    }
                ]
            },
            {
                name: 'Alchemist',
                icon: 'ra ra-potion',
                subclasses: [
                    {
                        name: 'Cullinarian',
                        icon: 'ph ph-cooking-pot',
                        benefits: [
                            'Unlocks the ability to cook higher tier foods per two levels',
                            'Flat 2% chance increase of receiving bonus output when cooking'
                        ]
                    },
                    {
                        name: 'Drunkard',
                        icon: 'ra ra-beer',
                        benefits: [
                            'Increased buff modifiers and durations when drinking alcohol each two levels',
                            'Increased odds of yielding potions & bonus effects'
                        ]
                    },
                    {
                        name: 'Appraiser',
                        icon: 'ph ph-magnifying-glass',
                        benefits: [
                            'Currently in the process of being updated and re-imagined',
                            'Stay tuned for changes to make this subclass worth getting!'
                        ]
                    },
                    {
                        name: 'Apothecarian',
                        icon: 'ra ra-radial-balance',
                        benefits: [
                            'Unlocks the ability to craft higher tier potions every two levels',
                            'Flat 2% chance increase of receiving bonus output when crafting potions'
                        ]
                    }
                ]
            },
            {
                name: 'Packrat',
                icon: 'custom-knapsack',
                subclasses: [
                    {
                        name: 'Collector',
                        icon: 'ra ra-gem-pendant',
                        benefits: [
                            'Increase yield of ingredient items from treasure chests and sacks',
                            'Scaling chance for soulgems to drop on kill of shard mobs'
                        ]
                    },
                    {
                        name: 'Charmer',
                        icon: 'ph ph-handshake',
                        benefits: [
                            'Gain an additional 35 EXP per quest per investment',
                            'Gain an additional 1 REP per REP quest per investment'
                        ]
                    },
                    {
                        name: 'Enchanter',
                        icon: 'ph ph-sparkle',
                        benefits: [
                            'Unlocks the ability to use higher tier enchants per two levels',
                            'Increased enchanting success odds each level'
                        ]
                    },
                    {
                        name: 'Smith',
                        icon: 'ra ra-anvil',
                        benefits: [
                            'Unlocks the ability to refine weapons & tools to a higher grade per two levels',
                            'Decrease the cost of disenchanting & unrefining weapons per investment'
                        ]
                    }
                ]
            }
        ];

        // Render classes
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('classesContainer');
            
            classesData.forEach(classData => {
                const classGroup = document.createElement('div');
                classGroup.className = 'class-group';
                
                // Create class header
                const header = document.createElement('div');
                header.className = 'class-header';
                const iconHTML = classData.icon === 'custom-knapsack' 
                    ? '<img src="../images/bandana.png" class="custom-knapsack" alt="Packrat">'
                    : `<i class="${classData.icon}"></i>`;
                header.innerHTML = `
                    <div class="class-icon">
                        ${iconHTML}
                    </div>
                    <div class="class-info">
                        <h2 class="class-name">${classData.name}</h2>
                    </div>
                `;
                
                // Create subclasses container
                const subclassesContainer = document.createElement('div');
                subclassesContainer.className = 'subclasses-container';
                
                const subclassesGrid = document.createElement('div');
                subclassesGrid.className = 'subclasses-grid';
                
                // Create subclass cards
                classData.subclasses.forEach(subclass => {
                    const card = document.createElement('div');
                    card.className = 'subclass-card';
                    const subclassIconHTML = subclass.icon === 'custom-knapsack'
                        ? '<img src="../images/bandana.png" class="custom-knapsack" alt="">'
                        : `<i class="${subclass.icon}"></i>`;
                    card.innerHTML = `
                        <div class="subclass-icon">
                            ${subclassIconHTML}
                        </div>
                        <h4 class="subclass-name">${subclass.name}</h4>
                    `;
                    
                    // Add click event to open modal
                    card.addEventListener('click', () => {
                        openSubclassModal(classData.name, subclass);
                    });
                    
                    subclassesGrid.appendChild(card);
                });
                
                subclassesContainer.appendChild(subclassesGrid);
                classGroup.appendChild(header);
                classGroup.appendChild(subclassesContainer);
                container.appendChild(classGroup);
            });
        });

        // Create and open subclass modal
        function openSubclassModal(className, subclass) {
            // Check if modal already exists
            let modal = document.getElementById('subclass-modal');
            
            if (!modal) {
                // Create modal structure
                modal = document.createElement('div');
                modal.id = 'subclass-modal';
                modal.className = 'modal';
                modal.setAttribute('role', 'dialog');
                modal.setAttribute('aria-modal', 'true');
                
                const benefitsList = subclass.benefits.map(benefit => `<li>${benefit}</li>`).join('');
                const modalIconHTML = subclass.icon === 'custom-knapsack'
                    ? '<img src="../images/bandana.png" class="custom-knapsack" alt="">'
                    : `<i class="${subclass.icon}"></i>`;
                
                modal.innerHTML = `
                    <div class="modal-overlay"></div>
                    <div class="modal-content">
                        <button class="modal-close" aria-label="Close modal">&times;</button>
                        <div class="subclass-modal-content">
                            <div class="subclass-modal-header">
                                <div class="subclass-modal-icon">
                                    ${modalIconHTML}
                                </div>
                                <div class="subclass-modal-title">
                                    <h3>${subclass.name}</h3>
                                    <div class="class-parent">${className}</div>
                                </div>
                            </div>
                            <div class="subclass-details">
                                <h4>Subclass Benefits</h4>
                                <ul>${benefitsList}</ul>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                // Add close functionality
                const closeBtn = modal.querySelector('.modal-close');
                const overlay = modal.querySelector('.modal-overlay');
                
                const closeModal = () => {
                    modal.classList.remove('modal-open');
                    setTimeout(() => {
                        modal.style.display = 'none';
                    }, 300);
                    document.body.style.overflow = '';
                };
                
                closeBtn.addEventListener('click', closeModal);
                overlay.addEventListener('click', closeModal);
                
                // Close on Escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && modal.style.display === 'flex') {
                        closeModal();
                    }
                });
            } else {
                // Update existing modal content
                const benefitsList = subclass.benefits.map(benefit => `<li>${benefit}</li>`).join('');
                const modalIconHTML = subclass.icon === 'custom-knapsack'
                    ? '<img src="../images/bandana.png" class="custom-knapsack" alt="">'
                    : `<i class="${subclass.icon}"></i>`;
                
                modal.querySelector('.subclass-modal-content').innerHTML = `
                    <div class="subclass-modal-header">
                        <div class="subclass-modal-icon">
                            ${modalIconHTML}
                        </div>
                        <div class="subclass-modal-title">
                            <h3>${subclass.name}</h3>
                            <div class="class-parent">${className}</div>
                        </div>
                    </div>
                    <div class="subclass-details">
                        <h4>Subclass Benefits</h4>
                        <ul>${benefitsList}</ul>
                    </div>
                `;
            }
            
            // Show modal
            modal.style.display = 'flex';
            // Trigger animation
            setTimeout(() => {
                modal.classList.add('modal-open');
            }, 10);
            document.body.style.overflow = 'hidden';
        }
    </script>
</body>
</html>