<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>CinderRPG Wiki</title>
    <link rel="icon" type="x-icon" href="cinder-wiki/images/favicon.ico">
    <link rel="stylesheet" href="cinder-wiki/css/global.css?v=20251022.1">
    <link rel="stylesheet" href="cinder-wiki/css/home.css?v=20251022.1">

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <!-- RPG Awesome icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/rpg-awesome/css/rpg-awesome.min.css">
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/473c5494b9.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Header Component Slot -->
    <div id="header-slot"></div>

    <main>
        <section class="hero">
            <div class="wrap hero-inner">
                <h1 class="hero-title" id="arcane-title">
                    <canvas class="magic-particles" width="800" height="200"></canvas>
                    <span class="arcane-text">CinderRPG Wiki</span>
                </h1>
                <p class="hero-sub">Community-driven guides, maps and patch notes</p>
                <div class="hero-cta">
                    <a class="btn primary" href="cinder-wiki/html/introduction.html">Get Started</a>
                    <a class="btn outline" href="cinder-wiki/html/introduction.html">Explore Wiki</a>
                </div>
            </div>
        </section>

        <section class="cards wrap">
                        <a href="cinder-wiki/html/introduction.html" class="card-link">
                        <article class="card anim-safe">
                                <div class="icon icon--orange"><i class="ra ra-burning-embers" aria-hidden="true"></i></div>
                                <div>
                                    <h3>Introduction</h3>
                                    <p>Begin your journey by understanding the very core of the server and its themes.</p>
                                </div>
                        </article>
                        </a>

                        <a href="classes-roles.html" class="card-link">
                        <article class="card anim-safe">
                                <div class="icon icon--gold"><i class="ra ra-shield" aria-hidden="true"></i></div>
                                <div>
                                    <h3>Classes & Subclasses</h3>
                                    <p>Discover the various classes and bonuses they provide to both yourself, and allies.</p>
                                </div>
                        </article>
                        </a>

                        <a href="cinder-wiki/html/items.html" class="card-link">
                        <article class="card anim-safe">
                                <div class="icon icon--muted"><i class="ra ra-crossed-swords" aria-hidden="true"></i></div>
                                <div>
                                    <h3>Items & Equipment</h3>
                                    <p>Find out more about our unique assortment of weapons, armor, and tools.</p>
                                </div>
                        </article>
                        </a>

                        <a href="game-systems.html" class="card-link">
                        <article class="card anim-safe">
                                <div class="icon icon--teal"><i class="ra ra-gem" aria-hidden="true"></i></div>
                                <div>
                                    <h3>Game Systems</h3>
                                    <p>Learn the mechanics and features that define gameplay.</p>
                                </div>
                        </article>
                        </a>

                        <a href="cinder-wiki/html/map.html" class="card-link">
                        <article class="card anim-safe">
                                <div class="icon icon--gold"><i class="ra ra-compass" aria-hidden="true"></i></div>
                                <div>
                                    <h3>Maps & Areas</h3>
                                    <p>Locate resources and regions within shards & dungeons.</p>
                                </div>
                        </article>
                        </a>

                        <a href="cinder-wiki/html/faq.html" class="card-link">
                        <article class="card anim-safe">
                                <div class="icon icon--muted"><i class="ra ra-scroll-unfurled" aria-hidden="true"></i></div>
                                <div>
                                    <h3>Frequently Asked Questions</h3>
                                    <p>Read through our commonly asked questions.</p>
                                </div>
                        </article>
                        </a>
        </section>
    </main>

    <!-- Footer Component Slot -->
    <div id="footer-slot"></div>

    <!-- Modal Component Slot -->
    <div id="modal-slot"></div>

    <!-- Load Component Manager -->
    <script src="cinder-wiki/js/components.js"></script>
    
    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    
    <script>
        //  Arcane Pulse Animation (with Magic Particles)
        window.addEventListener('load', function(){
            if(typeof gsap === 'undefined') return;
            
            const title = document.getElementById('arcane-title');
            const canvas = title.querySelector('.magic-particles');
            const textSpan = title.querySelector('.arcane-text');
            
            if(!title || !canvas || !textSpan) return;
            
            const ctx = canvas.getContext('2d');
            const particles = [];
            
            // Create magical particles
            class Particle {
                constructor() {
                    this.reset();
                }
                reset() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = (Math.random() - 0.5) * 1.5;
                    this.vy = (Math.random() - 0.5) * 1.5;
                    this.size = Math.random() * 3 + 1;
                    this.opacity = Math.random() * 0.5 + 0.3;
                    this.hue = Math.random() * 15 + 40; // Warm mustard-gold range
                }
                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    
                    // Wrap around edges
                    if(this.x < 0) this.x = canvas.width;
                    if(this.x > canvas.width) this.x = 0;
                    if(this.y < 0) this.y = canvas.height;
                    if(this.y > canvas.height) this.y = 0;
                }
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = `hsla(${this.hue}, 80%, 70%, ${this.opacity})`;
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = `hsla(${this.hue}, 80%, 70%, 0.8)`;
                    ctx.fill();
                }
            }
            
            // Initialize particles
            for(let i = 0; i < 50; i++) {
                particles.push(new Particle());
            }
            
            // Animation loop for particles
            let animating = false;
            function animateParticles() {
                if(!animating) return;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    p.update();
                    p.draw();
                });
                requestAnimationFrame(animateParticles);
            }
            
            // Split text into individual letters
            const text = textSpan.textContent;
            textSpan.innerHTML = '';
            
            text.split('').forEach(char => {
                const span = document.createElement('span');
                span.className = 'arcane-letter';
                span.textContent = char === ' ' ? '\u00A0' : char;
                textSpan.appendChild(span);
            });
            
            const letters = textSpan.querySelectorAll('.arcane-letter');
            
            // GSAP Timeline
            const tl = gsap.timeline({
                delay: 0.3,
                onStart: () => {
                    animating = true;
                    animateParticles();
                }
            });
            
            // Initial state
            gsap.set(canvas, {opacity: 0});
            gsap.set(letters, {opacity: 0, y: 20, filter: 'blur(4px)'});
            
            // Fade in particles
            tl.to(canvas, {
                opacity: 1,
                duration: 1,
                ease: 'power2.out'
            })
            // Letters appear one by one
            .to(letters, {
                opacity: 1,
                y: 0,
                filter: 'blur(0px)',
                duration: 0.6,
                stagger: 0.05,
                ease: 'power2.out'
            }, '-=0.3')
            // Add shimmer glow to letters
            .to(letters, {
                textShadow: '0 0 20px rgba(200,150,70,0.8), 0 0 40px rgba(180,130,50,0.5)',
                duration: 0.8,
                stagger: 0.05,
                ease: 'power2.inOut'
            }, '-=0.5')
            // Settle to soft glow
            .to(letters, {
                textShadow: '0 0 15px rgba(191,160,111,0.5), 0 0 30px rgba(180,130,50,0.25)',
                duration: 1,
                ease: 'power2.out'
            })
            // Fade out particles completely
            .to(canvas, {
                opacity: 0,
                duration: 1.5,
                ease: 'power2.inOut',
                onComplete: () => {
                    animating = false;
                    canvas.style.display = 'none';
                }
            }, '-=0.5')
            // Add continuous glow pulse to letters
            .to(letters, {
                textShadow: '0 0 25px rgba(200,150,70,0.7), 0 0 50px rgba(180,130,50,0.4), 0 0 70px rgba(191,160,111,0.25)',
                duration: 2,
                ease: 'sine.inOut',
                repeat: -1,
                yoyo: true,
                stagger: {
                    each: 0.1,
                    from: 'start',
                    repeat: -1
                }
            });
            // Note: Letter floating is now handled by CSS animation in home.css

        });
    </script>
</body>
</html>
